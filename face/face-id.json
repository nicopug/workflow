{
  "last_node_id": 60,
  "last_link_id": 100,
  "nodes": [
    {
      "id": 1,
      "type": "UnetLoaderGGUF",
      "pos": [20, 50],
      "size": {"0": 315, "1": 82},
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [{"name": "MODEL", "type": "MODEL", "links": [10], "shape": 3}],
      "widgets_values": ["flux1-dev-Q8_0.gguf"],
      "title": "1. Motore Flux (GGUF Q8)"
    },
    {
      "id": 2,
      "type": "DualCLIPLoader",
      "pos": [20, 200],
      "size": {"0": 315, "1": 106},
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [{"name": "CLIP", "type": "CLIP", "links": [11], "shape": 3}],
      "widgets_values": ["t5xxl_fp8_e4m3fn.safetensors", "clip_l.safetensors", "flux"],
      "title": "2. Caricamento CLIP"
    },
    {
      "id": 3,
      "type": "VAELoader",
      "pos": [20, 350],
      "size": {"0": 315, "1": 58},
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [{"name": "VAE", "type": "VAE", "links": [12, 60], "shape": 3}],
      "widgets_values": ["ae.safetensors"],
      "title": "3. Caricamento VAE"
    },
    {
      "id": 10,
      "type": "PulidFluxModelLoader",
      "pos": [400, 50],
      "size": {"0": 315, "1": 58},
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [{"name": "PULID_FLUX", "type": "PULID_FLUX", "links": [20], "shape": 3}],
      "widgets_values": ["pulid_flux_v0.9.0.safetensors"],
      "title": "4. Modello PuLID"
    },
    {
      "id": 11,
      "type": "PulidFluxEvaClipLoader",
      "pos": [400, 150],
      "size": {"0": 315, "1": 58},
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [{"name": "EVA_CLIP", "type": "EVA_CLIP", "links": [21], "shape": 3}],
      "widgets_values": ["Eva_Clip.safetensors"],
      "title": "5. Eva Clip (Analisi Volto)"
    },
    {
      "id": 12,
      "type": "PulidFluxInsightFaceLoader",
      "pos": [400, 250],
      "size": {"0": 315, "1": 58},
      "flags": {},
      "order": 5,
      "mode": 0,
      "outputs": [{"name": "FACE_ANALYSIS", "type": "FACE_ANALYSIS", "links": [22], "shape": 3}],
      "widgets_values": ["CUDA"],
      "title": "6. InsightFace (Detector)"
    },
    {
      "id": 15,
      "type": "LoadImage",
      "pos": [400, 380],
      "size": {"0": 315, "1": 314},
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [23], "shape": 3}],
      "widgets_values": ["volto_riferimento.png", "image"],
      "title": "FOTO IDENTITÀ (Reference)"
    },
    {
      "id": 20,
      "type": "ApplyPulidFlux",
      "pos": [800, 150],
      "size": {"0": 350, "1": 250},
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 10},
        {"name": "pulid_flux", "type": "PULID_FLUX", "link": 20},
        {"name": "eva_clip", "type": "EVA_CLIP", "link": 21},
        {"name": "face_analysis", "type": "FACE_ANALYSIS", "link": 22},
        {"name": "image", "type": "IMAGE", "link": 23}
      ],
      "outputs": [{"name": "MODEL", "type": "MODEL", "links": [30], "shape": 3}],
      "widgets_values": [0.85, 0.0, 1.0, "fidelity"],
      "title": "INIEZIONE IDENTITÀ (PuLID)"
    },
    {
      "id": 25,
      "type": "CLIPTextEncode",
      "pos": [800, 450],
      "size": {"0": 400, "1": 180},
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [{"name": "clip", "type": "CLIP", "link": 11}],
      "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [31], "shape": 3}],
      "widgets_values": ["cinematic portrait of a cyberpunk soldier, neon lights, rain, high detail, 8k"],
      "title": "Prompt Scena"
    },
    {
      "id": 26,
      "type": "EmptyLatentImage",
      "pos": [800, 680],
      "size": {"0": 315, "1": 106},
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [{"name": "LATENT", "type": "LATENT", "links": [32], "shape": 3}],
      "widgets_values": [1024, 1536, 1],
      "title": "Risoluzione (Portrait)"
    },
    {
      "id": 35,
      "type": "BasicGuider",
      "pos": [1250, 150],
      "size": {"0": 250, "1": 46},
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 30},
        {"name": "conditioning", "type": "CONDITIONING", "link": 31}
      ],
      "outputs": [{"name": "GUIDER", "type": "GUIDER", "links": [40], "shape": 3}],
      "title": "Guider"
    },
    {
      "id": 36,
      "type": "KSamplerSelect",
      "pos": [1250, 250],
      "size": {"0": 315, "1": 58},
      "flags": {},
      "order": 11,
      "mode": 0,
      "outputs": [{"name": "SAMPLER", "type": "SAMPLER", "links": [41], "shape": 3}],
      "widgets_values": ["euler"],
      "title": "Sampler"
    },
    {
      "id": 37,
      "type": "BasicScheduler",
      "pos": [1250, 350],
      "size": {"0": 315, "1": 106},
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [{"name": "model", "type": "MODEL", "link": 30}],
      "outputs": [{"name": "SIGMAS", "type": "SIGMAS", "links": [42], "shape": 3}],
      "widgets_values": ["simple", 20, 1.0],
      "title": "Scheduler (20 steps)"
    },
    {
      "id": 40,
      "type": "SamplerCustomAdvanced",
      "pos": [1650, 150],
      "size": {"0": 355, "1": 126},
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {"name": "noise", "type": "NOISE", "link": null},
        {"name": "guider", "type": "GUIDER", "link": 40},
        {"name": "sampler", "type": "SAMPLER", "link": 41},
        {"name": "sigmas", "type": "SIGMAS", "link": 42},
        {"name": "latent_image", "type": "LATENT", "link": 32}
      ],
      "outputs": [{"name": "output", "type": "LATENT", "links": [50], "shape": 3}],
      "title": "Generatore"
    },
    {
      "id": 45,
      "type": "VAEDecode",
      "pos": [2050, 150],
      "size": {"0": 210, "1": 46},
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 50},
        {"name": "vae", "type": "VAE", "link": 60}
      ],
      "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [70], "shape": 3}],
      "title": "Decodifica Finale"
    },
    {
      "id": 46,
      "type": "SaveImage",
      "pos": [2300, 150],
      "size": {"0": 315, "1": 270},
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [{"name": "images", "type": "IMAGE", "link": 70}],
      "widgets_values": ["Flux_PuLID_FaceID"],
      "title": "Salva Clone"
    }
  ],
  "links": [
    [10, 1, 0, 20, 0, "MODEL"],
    [11, 2, 0, 25, 0, "CLIP"],
    [12, 3, 0, 45, 1, "VAE"],
    [20, 10, 0, 20, 1, "PULID_FLUX"],
    [21, 11, 0, 20, 2, "EVA_CLIP"],
    [22, 12, 0, 20, 3, "FACE_ANALYSIS"],
    [23, 15, 0, 20, 4, "IMAGE"],
    [30, 20, 0, 35, 0, "MODEL"],
    [31, 25, 0, 35, 1, "CONDITIONING"],
    [32, 26, 0, 40, 4, "LATENT"],
    [40, 35, 0, 40, 1, "GUIDER"],
    [41, 36, 0, 40, 2, "SAMPLER"],
    [42, 37, 0, 40, 3, "SIGMAS"],
    [50, 40, 0, 45, 0, "LATENT"],
    [60, 3, 0, 45, 1, "VAE"],
    [70, 45, 0, 46, 0, "IMAGE"],
    [71, 20, 0, 37, 0, "MODEL"]
  ],
  "groups": [],
  "config": {},
  "extra": {},
  "version": 0.4
}